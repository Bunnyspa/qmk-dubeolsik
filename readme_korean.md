# QMK 두벌식

QMK 펌웨어 내에서 두벌식 자판을 모방하는 코드입니다.

Colemak-DH와 같은 커스텀 영어 자판을 사용할 경우, 단순 QWERTY 자판의 변경은 한국어 자판도 변경되기 때문에 사용할 수 없는 방법입니다. 이러한 문제를 해결하기 위해 다음과 같은 방법들이 있지만, 각자 단점이 존재합니다:

- 컴퓨터에 직접 커스텀 영문 자판을 추가
  - 컴퓨터에 커스텀 자판을 추가하기 어려움
  - 실제 입력에 영향을 주어 게임 등과 같은 경우에 영향이 있을 수 있음
- 키보드에 새 레이어를 추가하여 언어입력과 레이어를 동시에 변경하며 사용
  - 레이어와 언어입력 선택이 서로 맞지 않을 수 있음

이 QMK 코드는 한글을 직접 전송함으로써 위와 같은 문제점을 해결합니다. 예를 들어 한국어 언어입력 상태에서 Q를 누르면 "KC_Q" 입력 대신 "ㅂ" 입력을 보냅니다. 윈도우의 한국어 IME와 같은 입력 방식을 최대한 따라하도록 작성했습니다.

## 사용하기 전에

이 코드는 QMK 유니코드 기능을 사용합니다. 유니코드 입력은 운영체제에 따라 기본적으로 설정되어있지 않기 때문에 설치나 설정이 필요할 수 있습니다.
[QMK 펌웨어 문서](https://docs.qmk.fm/#/feature_unicode?id=input-modes)를 읽으시고 운영체제에 맞는 설정을 진행해주셔야 합니다.

WinCompose를 사용할 경우 기본 Compose키는 우알트키이기 때문에 한국어 IME의 "한/영"키와 충돌합니다. 이중 하나를 진행하여 이러한 문제를 해결하시기 바랍니다:

- Compose키를 다른 키로 변경하고 (예: `F13`), `config.h` 파일의 `UNICODE_KEY_WINC` 값을 변경 (예: `KC_F13`)
- 한국어 IME를 끄고 영어 QWERTY 레이아웃만 사용

## 설정

`keymaps.c` 내에서 `keymaps[][MATRIX_ROWS][MATRIX_COLS]`와 `dbs_keymap[MATRIX_ROWS][MATRIX_COLS]`을 자신의 키보드에 맞게 설정하시기 바랍니다.

일정 시간동안 한국어를 입력하지 않을 경우 내부 한국어 입력 캐시를 초기화하는 타이머가 있습니다.
`config.h` 파일에서 `DBS_TIMEOUT_MS` 값으로 타이머의 길이를 설정할 수 있습니다.
